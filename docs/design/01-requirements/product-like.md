## 상품 좋아요 요구사항 명세

### 상품 좋아요 등록

#### 기능적 요구사항

- Happy Path
    - 사용자는 로그인 상태에서 상품에 좋아요를 등록할 수 있다.
    - 이미 좋아요한 상품에 대해 다시 요청해도 정상 처리된다. (멱등성 보장)

- Fail Cases
    - 로그인하지 않은 사용자는 좋아요를 등록 요청 시 오류를 반환한다.
    - 존재하지 않는 사용자 ID로 요청 시 오류를 반환한다.
    - 존재하지 않는 상품 ID로 요청 시 오류를 반환한다.
    - 상품 좋아요 등록 실패 시 오류를 반환한다.

#### 비기능적 요구사항

- 사용자 인증은 `X-USER-ID` 헤더를 통해 검증된다.
- 상품 좋아요 등록에 대한 응답은 항상 성공으로 처리된다. (200 OK 또는 204 No Content)

| 케이스          | 설명                                      | HTTP 상태 코드                |
|--------------|-----------------------------------------|---------------------------|
| 미로그인         | `X-USER-ID` 헤더가 없을 때, 존재하지 않는 사용자 ID일 때 | 400 BadRequest            |
| 존재하지 않는 상품   | 요청한 상품 ID가 존재하지 않을 때                    | 404 Not Found             |
| 상품 좋아요 등록 실패 | 상품 좋아요 등록에 실패했을 때                       | 500 Internal Server Error |

### 상품 좋아요 취소

#### 기능적 요구사항

- Happy Path
    - 사용자는 상품에 등록한 좋아요를 취소할 수 있다.
    - 좋아요하지 않은 상품을 대상으로 다시 취소 요청해도 정상 처리된다. (멱등성 보장)

- Fail Cases
    - 로그인하지 않은 사용자는 좋아요 취소 요청 시 오류를 반환한다.
    - 존재하지 않는 사용자 ID로 요청 시 오류를 반환한다.
    - 존재하지 않는 상품 ID로 요청 시 오류를 반환한다.
    - 상품 좋아요 취소 실패 시 오류를 반환한다.

#### 비기능적 요구사항

- 사용자 인증은 `X-USER-ID` 헤더를 통해 검증된다.
- 상품 좋아요 취소에 대한 응답은 항상 성공으로 처리된다. (200 OK 또는 204 No Content)

| 케이스          | 설명                                      | HTTP 상태 코드                |
|--------------|-----------------------------------------|---------------------------|
| 미로그인         | `X-USER-ID` 헤더가 없을 때, 존재하지 않는 사용자 ID일 때 | 400 BadRequest            |
| 존재하지 않는 상품   | 요청한 상품 ID가 존재하지 않을 때                    | 404 Not Found             |
| 상품 좋아요 취소 실패 | 상품 좋아요 취소에 실패했을 때                       | 500 Internal Server Error |

### 내가 좋아요 한 상품 목록 조회

#### 기능적 요구사항

- Happy Path
    - 사용자는 로그인 상태에서 자신이 좋아요한 상품 목록을 조회할 수 있다.
    - 좋아요 한 상품 목록이 없을 경우 빈 목록을 반환한다.

- Fail Cases
    - 로그인하지 않은 사용자는 내가 좋아요 한 상품 목록 조회 요청 시 오류를 반환한다.

#### 비기능적 요구사항

- 사용자 인증은 `X-USER-ID` 헤더를 통해 검증된다.

| 케이스  | 설명                                      | HTTP 상태 코드     |
|------|-----------------------------------------|----------------|
| 미로그인 | `X-USER-ID` 헤더가 없을 때, 존재하지 않는 사용자 ID일 때 | 400 BadRequest |
